# main.py
## 구조
```
Main Process
├── Flask 서버 (멀티스레드, app.run(threaded=True))
│   ├── Thread 1: /detect 요청 처리  ──► YOLO 프로세스 (sub1)
│   ├── Thread 2: /get_action 요청  ──► Action 프로세스 (sub2)
│   ├── Thread 3: /info 요청 처리   ──► 메인 프로세스 내부 직접 처리
│   ├── Thread 4: /collision 요청 처리 ──► 메인 프로세스 내부 직접 처리
│   └── 기타 요청들...
│
├── YOLO 프로세스 (sub1, 별도 프로세스)
│   └── YOLO 작업 큐 감시 → 객체 탐지 → 결과 반환
│
└── Action 프로세스 (sub2, 별도 프로세스)
    └── Action 작업 큐 감시 → 행동 결정 → 결과 반환
```

## 설명

- 리소스를 많이 사용하는 YOLO와 Action 모델을 별도 멀티프로세스로 분리해  
  병렬 처리함으로써 시스템 효율을 극대화

- Flask 서버는 멀티스레드로 동작하며 요청별로 각기 다른 스레드가 처리

- 메인 프로세스는 가벼운 요청을 직접 처리하여 오버헤드 최소화

---

# server_sample v2.2.3.py

- 기존 샘플 코드

---

# server_not_io_img.py

- 기존에는 이미지를 파일로 저장 후 경로를 모델에 넘겨 처리했으나  
- 파일 입출력(I/O) 비용이 크고 비효율적이었음  
- 개선하여 이미지를 메모리에서 직접 읽도록 변경, 처리 속도 향상

---

# scripted_exam.py

- 강화학습에 사용되는 예시 함수  
- 낮은 확률로 정답과 유사한 행동을 실행하여 학습에 참고하도록 설계
